<!DOCTYPE html>
<html lang="en">
<html style="font-size: 16px;">
  <head>

	<meta charset="UTF-8" />
	<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <meta name="keywords" content="" />
    <meta name="description" content="" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" type="text/css">
    <link rel="stylesheet" href="css_3/leaflet.css" />
    <script src="js_3/leaflet.js"></script>
    <script src="data/regions.geojson"></script>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <script
      src="https://code.jquery.com/jquery-3.3.1.min.js"
      integrity="sha256-FgpCb/KJQlLNfOu91ta32o/NMZxltwRo8QtmkMRdAu8="
      crossorigin="anonymous"
    ></script>
  </head>
  <style>
        .legend {
                    line-height: 36px;
                    color: #555;
                }
                .legend i {
                    width: 36px;
                    height: 36px;
                    float: left;
                    margin-right: 10px;
                    opacity: 0.7;
                }
        h4 { text-align: center;
         }
    </style>

    <meta name="keywords" content="GEOPORTAIL DES ACCIDENTS ROUTIERS AU MAROC (2019-2021)">
    <meta name="description" content="">
    <meta name="page_type" content="np-template-header-footer-from-plugin">
    <title>Carte des blessés graves</title>
    <link rel="stylesheet" href="nicepage.css" media="screen">
	<link rel="stylesheet" href="Carte-des-blessés-graves.css" media="screen">
	<link href="default.css" rel="stylesheet" type="text/css" media="all" />
    <link href="fonts.css" rel="stylesheet" type="text/css" media="all" />
    <link rel="stylesheet" href="http://cdn.leafletjs.com/leaflet-0.7.2/leaflet.css" />
    <link rel="stylesheet" href="http://code.jquery.com/ui/1.9.2/themes/base/jquery-ui.css" type="text/css">
    <script class="u-script" type="text/javascript" src="jquery.js" defer=""></script>
    <script class="u-script" type="text/javascript" src="nicepage.js" defer=""></script>
    <script src="data/provinces.geojson"></script>
	<script src="http://code.jquery.com/jquery-1.9.1.min.js"></script>
    <script src="http://code.jquery.com/ui/1.9.2/jquery-ui.js"></script>
    <meta name="generator" content="Nicepage 4.5.4, nicepage.com">
    <link id="u-theme-google-font" rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:100,100i,300,300i,400,400i,500,500i,700,700i,900,900i|Open+Sans:300,300i,400,400i,500,500i,600,600i,700,700i,800,800i">
    
    <style>
        .legend {
                    line-height: 36px;
                    color: #555;
                }
                .legend i {
                    width: 36px;
                    height: 36px;
                    float: left;
                    margin-right: 10px;
                    opacity: 0.7;
                }
        h4 { text-align: center;
         }
    </style>
    
    <script type="application/ld+json">{
		"@context": "http://schema.org",
		"@type": "Organization",
		"name": ""
}</script>
    <meta name="theme-color" content="#478ac9">
    <meta property="og:title" content="Carte des blessés graves">
    <meta property="og:type" content="website">
  </head>
  <body class="u-body u-xl-mode"><header class=" u-header u-section-row-container" id="sec-abc8" data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction=""><div class="u-section-rows">
        <div class="u-gradient u-section-row u-section-row-1" id="sec-abf3">
          <div class="u-clearfix u-sheet u-sheet-1">
            <img class="u-align-left u-image u-image-default u-preserve-proportions u-image-1" src="images/iav.jfif" alt="" data-image-width="175" data-image-height="168">
            <img class="u-align-right u-image u-image-default u-image-2" src="images/esigt.jpg" alt="" data-image-width="525" data-image-height="523">
            <h1 class="u-align-center u-text u-text-1">GEOPORTAIL DES ACCIDENTS ROUTIERS AU MAROC (2019-2021)</h1>
          </div>
          
          
          
          
          
        </div>
        <div class="u-black u-section-row u-section-row-2" data-animation-name="" data-animation-duration="0" data-animation-delay="0" data-animation-direction="" id="sec-a351">
          <div class="u-align-left u-clearfix u-sheet u-valign-middle u-sheet-2">
            <nav class="u-menu u-menu-dropdown u-offcanvas u-menu-1">
              <div class="menu-collapse" style="font-size: 1.25rem; letter-spacing: 0px; font-weight: 700; text-transform: uppercase;">
                <a class="u-button-style u-custom-active-border-color u-custom-border u-custom-border-color u-custom-borders u-custom-hover-border-color u-custom-left-right-menu-spacing u-custom-padding-bottom u-custom-text-active-color u-custom-text-color u-custom-text-hover-color u-custom-top-bottom-menu-spacing u-nav-link" href="#" style="padding: 0px; font-size: calc(1em + 0.5px);">
                  <svg class="u-svg-link" viewBox="0 0 24 24"><use xmlns:xlink="http://www.w3.org/1999/xlink" xlink:href="#svg-f881"></use></svg>
                  <svg class="u-svg-content" version="1.1" id="svg-f881" viewBox="0 0 16 16" x="0px" y="0px" xmlns:xlink="http://www.w3.org/1999/xlink" xmlns="http://www.w3.org/2000/svg"><g><rect y="1" width="16" height="2"></rect><rect y="7" width="16" height="2"></rect><rect y="13" width="16" height="2"></rect>
</g></svg>
                </a>
              </div>
              <div class="u-custom-menu u-nav-container">
                <ul class="u-nav u-spacing-30 u-unstyled u-nav-1"><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-1-base u-text-white" href="Accueil.html" style="padding: 10px 0px;">Accueil</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-1-base u-text-white" style="padding: 10px 0px;">Cartes</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-2"><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Carte-des-décès.html">Carte des décès</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Carte-des-blessés-graves.html">Carte des blessés graves</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link u-white" href="Carte-des-blessés-légers.html">Carte des blessés légers</a>
</li></ul>
</div>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-1-base u-text-white" href="Donnees.html" style="padding: 10px 0px;">Donnees</a>
</li><li class="u-nav-item"><a class="u-border-2 u-border-active-palette-1-base u-border-hover-palette-1-base u-border-no-left u-border-no-right u-border-no-top u-button-style u-nav-link u-text-active-palette-1-base u-text-hover-palette-1-base u-text-white" href="Contact.html" style="padding: 10px 0px;">Contact</a>
</li></ul>
              </div>
              <div class="u-custom-menu u-nav-container-collapse">
                <div class="u-black u-container-style u-inner-container-layout u-opacity u-opacity-95 u-sidenav">
                  <div class="u-inner-container-layout u-sidenav-overflow">
                    <div class="u-menu-close"></div>
                    <ul class="u-align-center u-nav u-popupmenu-items u-unstyled u-nav-3"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Accueil.html" style="padding: 10px 0px;">Accueil</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" style="padding: 10px 0px;">Cartes</a><div class="u-nav-popup"><ul class="u-h-spacing-20 u-nav u-unstyled u-v-spacing-10 u-nav-4"><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Carte-des-décès.html">Carte des décès</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Carte-des-blessés-graves.html">Carte des blessés graves</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Carte-des-blessés-légers.html">Carte des blessés légers</a>
</li></ul>
</div>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Donnees.html" style="padding: 10px 0px;">Donnees</a>
</li><li class="u-nav-item"><a class="u-button-style u-nav-link" href="Contact.html" style="padding: 10px 0px;">Contact</a>
</li></ul>
                  </div>
                </div>
                <div class="u-black u-menu-overlay u-opacity u-opacity-70"></div>
              </div>
            </nav>
          </div>
          
          
          
          
          
        </div>
      </div></header>
    <section class="u-clearfix u-section-1" id="sec-a889">
      <div class="u-clearfix u-sheet u-valign-middle u-sheet-1"><span class="u-file-icon u-icon u-icon-1"><img src="images/854901.png" alt=""></span>
        <p class="u-align-center u-custom-font u-font-georgia u-text u-text-1"><span class="u-icon"></span> Carte <b>choroplèthe</b>&nbsp;de l'évolution des nombres de ​blessés
graves pour
les années 2019, 2020 et 2021
        </p>
      </div>
    </section>

<section>
<div id="wrapper">
        <center><div id="mapid" style="width: 800px; height: 580px;"></div></center>
        <div class="leaflet-top leaflet-right"><div class="info leaflet-control">
        <script src="js_3/SliderControl.js"></script>
            <script>
             var sliderControl = null;
                var mymap = L.map('mapid').setView([29, -5], 5);
                L.tileLayer('http://{s}.tile.osm.org/{z}/{x}/{y}.png', {
        attribution: '&copy; <a href="http://osm.org/copyright">OpenStreetMap</a> contributors'
    }).addTo(mymap);
                
                function getColor(e) {
                    return  e >1205 ?  '#cb181d':
                            e >798 ? '#fb6a4a'  :
                            e >377 ? '#fcae91' :
                           '#fee5d9' ;
                }

                
                function style3(feature) {
                    return {
                        weight: 2,
                        opacity: 1,
                        color: 'black',
                        dashArray: '3',
                        fillOpacity: 0.7,
                        fillColor: getColor(feature.properties.Cas2021)
                    };
                }
                function style2(feature) {
                    return {
                        weight: 2,
                        opacity: 1,
                        color: 'black',
                        dashArray: '3',
                        fillOpacity: 0.7,
                        fillColor: getColor(feature.properties.Cas2020)
                    };
                }
                function style1(feature) {
                    return {
                        weight: 2,
                        opacity: 1,
                        color: 'black',
                        dashArray: '3',
                        fillOpacity: 0.7,
                        fillColor: getColor(feature.properties.Cas2019)
                    };
                }
                 
                    
                function highlightFeature(e) {
                    var layer = e.target;

                    layer.setStyle({
                        weight: 5,
                        color: '#666',
                        dashArray: '',
                        fillOpacity: 0.7
                    });                   
                }

                var geojson1;

                function resetHighlight1(e) {
                    geojson1.resetStyle(e.target);
                    
                }
                var geojson2;

                function resetHighlight2(e) {
                    geojson2.resetStyle(e.target);
                    
                }
                var geojson3;

                function resetHighlight3(e) {
                    geojson3.resetStyle(e.target);
                  
                }
                  
                
    
                function zoomToFeature(e) {
                    mymap.fitBounds(e.target.getBounds());
                }

                function onEachFeature1(feature, layer) {
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight1,
                        click: zoomToFeature
                    });
                }
                 function onEachFeature2(feature, layer) {
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight2,
                        click: zoomToFeature
                    });
                }
                function onEachFeature3(feature, layer) {
                    layer.on({
                        mouseover: highlightFeature,
                        mouseout: resetHighlight3,
                        click: zoomToFeature
                    });
                }
                

                
                
                geojson1 = L.geoJson(region,{style: style1, onEachFeature: onEachFeature1, time: "L'année 2019"
                        }
                );
                geojson2 = L.geoJson(region,{style: style2, onEachFeature: onEachFeature2, time: "L'année 2020"
                        }
                );
                geojson3 = L.geoJson(region,{style: style3, onEachFeature: onEachFeature3, time: "L'année 2021"
                        }
                );
                
                
                // slider       
                
                layerGroup = L.layerGroup([geojson1, geojson2, geojson3]);
                var sliderControl = L.control.sliderControl({layer:layerGroup, follow: true});
                mymap.addControl(sliderControl);
                sliderControl.startSlider();

                // légende 
                var legend = L.control({ position: "bottomright" });

                legend.onAdd = function () {

                var div = L.DomUtil.create('div', 'info legend'),
                    grades = [14, 377, 798, 1205];

                div.innerHTML += '<h5>Nombre de blessés grave</h5>';
                for (var i = 0; i < grades.length; i++) {
                    div.innerHTML +=
                        '<svg width="20" height="20"> <rect width="20" height="20" style="fill:'+ getColor((grades[i] + 1) * 1) +';stroke-width:3;stroke:rgb(0,0,0)" /></svg> ' +
                        grades[i] + (grades[i + 1] ? ' – ' + grades[i + 1] + ' <br>' : '+');
                    }


                  return div;
                };
                legend.addTo(mymap);

                

                
            </script>
    </section>

    <section class="u-clearfix u-section-2" id="sec-98f0">
      <div class="u-clearfix u-sheet u-sheet-1"><span class="u-file-icon u-icon u-icon-1"><img src="images/2353678.png" alt=""></span>
        <p class="u-align-center u-custom-font u-font-georgia u-text u-text-custom-color-1 u-text-1"> Comment ça marche ?</p>
        <ol class="u-align-left u-custom-font u-font-georgia u-text u-text-2">
          <li>Glisser le slider situé au coin supérieur droit jusqu'à l'année souhaitée pour naviguer entre les dates (2019-2020-2021). <br/  >Par défaut c'est 2019.</li>
          <li>Cliquer sur la région souhaitée pour zoomer.</li>
        </ol>
      </div>
    </section>





    <footer class="u-align-center u-black u-clearfix u-footer u-footer" id="sec-b117"><div class="u-clearfix u-sheet u-sheet-1">
        <p class="u-small-text u-text u-text-variant u-text-1"> PROJET DE WEB MAPPING 2021-2022</p>
      </div></footer>
    <section class="u-backlink u-clearfix u-grey-80">
      <a class="u-link" href="https://nicepage.com/website-design" target="_blank">
        <span>Website Design</span>
      </a>
      <p class="u-text">
        <span>created with</span>
      </p>
      <a class="u-link" href="" target="_blank">
        <span>Website Builder Software</span>
      </a>. 
    </section>

  </body>
</html>